const blackJack=(()=>{"use strict";let e=document.getElementById("new-game"),t=document.getElementById("new-card"),l=document.getElementById("stop-game"),r=["C","D","H","S"],d=["A","J","Q","K"],n=document.querySelectorAll(".display"),a=document.querySelectorAll(".card-container"),s=[],i=[],c=(e=2)=>{s=o(),i=[];for(let r=0;r<e;r++)i.push(0);n.forEach(e=>e.textContent=0),a.forEach(e=>e.innerHTML=""),t.disabled=!1,l.disabled=!1},o=()=>{s=[];for(let e=2;e<=10;e++)for(let t of r)s.push(e+t);for(let l of r)for(let n of d)s.push(n+l);return _.shuffle(s)},$=()=>{if(0===s.length)throw"No cards in the deck";return s.pop()},u=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:Number(t)},h=()=>{let[e,t]=i;setTimeout(()=>{t===e?alert("Computer and player draw"):e>21?alert("Computer Wins"):t>21?alert("Player Wins"):alert("Computer Wins")},300)},p=e=>{let t=0;do{let l=$();t=f(l,i.length-1),g(l,i.length-1)}while(t<=e&&e<=21);h()},f=(e,t)=>(i[t]=i[t]+u(e),n[t].textContent=i[t],i[t]),g=(e,t)=>{let l=document.createElement("img");l.src=`./assets/cards/${e}.png`,l.classList.add("card"),l.alt="Card",a[t].appendChild(l)};return t.addEventListener("click",()=>{let e=$(),r=f(e,0);g(e,0),r>21?(t.disabled=!0,l.disabled=!0,p(r)):21===r&&(t.disabled=!0,l.disable=!0,p(r))}),e.addEventListener("click",()=>{c()}),l.addEventListener("click",()=>{t.disabled=!0,l.disabled=!0,p(i[0])}),{newGame:c}})();